<template data-sly-template.main="${@ ctaText='', ctaLink='', ctaIcon='', type='button|link'}">
    <div class="button-wrapper">
        <sly data-sly-set.hasIcon="${ctaIcon}"
             data-sly-set.iconClass="${hasIcon ? 'icon' : ''}">
            <sly data-sly-test.isButton="${!type || type == 'button'}"
                 data-sly-call="${button @ ctaText=ctaText, ctaLink=ctaLink, ctaIcon=ctaIcon, iconClass=iconClass}"></sly>
            <sly data-sly-test="${!isButton}"
                 data-sly-call="${link @ ctaText=ctaText, ctaLink=ctaLink, ctaIcon=ctaIcon, iconClass=iconClass}"></sly>
        </sly>
    </div>
</template>

<template data-sly-template.link="${@ ctaText, ctaLink='', ctaIcon='', iconClass=''}">
    <a class="buttoned ${iconClass}" href="${ctaLink}">
        ${ctaText}
        <sly data-sly-test="${ctaIcon}"
             data-sly-use.template="/apps/ati4/htl-templates/icons-templates.html"
             data-sly-call="${template.main @ iconName=ctaIcon}"></sly>
    </a>
</template>

<template data-sly-template.button="${@ ctaText, ctaLink='', ctaIcon='', iconClass=''}">
    <button class="${iconClass}" type="button" data-href="${ctaLink}">
        ${ctaText}
        <sly data-sly-test="${ctaIcon}"
             data-sly-use.template="/apps/ati4/htl-templates/icons-templates.html"
             data-sly-call="${template.main @ iconName=ctaIcon}"></sly>
    </button>
</template>